Shortly after the destruction of Starkiller Base, General Leia Organa leads the evacuation of Resistance forces from D'Qar, when a First Order fleet arrives. Against Leia's orders, Poe Dameron leads a costly counterattack that destroys a First Order dreadnought. The remaining Resistance escapes into hyperspace, but the First Order uses a device to track them, and attacks again. Kylo Ren hesitates to fire on the lead Resistance ship after sensing his mother Leia's presence, but his wingmen destroy the bridge, killing most of the Resistance's leaders. Leia is dragged into space, but survives by using the Force. While Leia recovers, Vice Admiral Amilyn Holdo assumes command of the Resistance. Running low on fuel, the remaining fleet is pursued by the First Order.

Rey, having traveled to Ahch-To with Chewbacca and R2-D2 aboard the Millennium Falcon, attempts to recruit Luke Skywalker to the Resistance. Under self-imposed exile, Luke refuses to help and says that the Jedi should end; but, encouraged by R2-D2, he eventually begins to teach Rey about the Force. Rey and Kylo begin communicating through the Force, puzzling them both. After Kylo tells Rey what happened between him and Luke that caused him to choose the dark side, Luke confesses that he momentarily contemplated killing Kylo upon sensing that Snoke was corrupting him; this prompted Kylo to destroy Luke's new Jedi Order. Convinced that Kylo can be redeemed, Rey leaves Ahch-To. Luke prepares to burn the Jedi library, but hesitates. Luke's teacher Yoda appears as a spirit, destroys the library by summoning a bolt of lightning, and encourages Luke to learn from his failure.

Meanwhile, Poe entrusts Finn, mechanic Rose Tico, and BB-8 with a secret mission to find someone who can deactivate the First Order's tracking device, whom Maz Kanata says they can find in the casino town of Canto Bight. They meet the hacker DJ, and escape the city with the help of some stablehand children and riding animals they set free. Finn, Rose, and DJ infiltrate Snoke's ship, arriving at the same time as Rey, but are captured by Captain Phasma. Meanwhile, Kylo brings Rey to Snoke, who says that he facilitated the connection between her and Kylo as part of a plan to defeat Luke.

Holdo plans to evacuate the remaining Resistance members using small transport vessels. Believing her plan to be cowardly and futile, Poe leads a mutiny. Leia recovers and stuns Poe, allowing the evacuation to begin. Holdo remains on the ship to mislead Snoke's fleet as the others flee to an abandoned base on Crait. On the First Order flagship, DJ buys his freedom by revealing the Resistance's plan to General Hux, and the First Order fleet begins firing on the evacuation transports, destroying many of them.

Ordered to kill Rey, Kylo instead kills Snoke and defeats his guards alongside Rey. Rey hopes that Kylo has abandoned the dark side, but he instead asks her to rule the galaxy with him. Refusing, she and Kylo battle using the Force to obtain the Skywalker lightsaber, splitting it in two. Holdo sacrifices herself by ramming into Snoke's flagship at lightspeed, crippling it. Meanwhile, Rey escapes while Kylo declares himself Supreme Leader. BB-8 frees Finn and Rose; they defeat Phasma and join the survivors on Crait. When the First Order arrives, Poe, Finn, and Rose attack with old speeders. Rey and Chewbacca draw TIE fighters away in the Falcon, while Rose prevents Finn from sacrificing himself to destroy the enemy siege cannon, which subsequently penetrates the Resistance fortress.

Luke appears and confronts the First Order to allow the surviving Resistance to escape. Kylo orders the First Order's forces to fire on Luke, who is unharmed. He then engages Luke in a lightsaber duel; upon striking Luke, Kylo realizes that Luke is not physically present but only appearing through a projection of the Force. Rey helps the remaining Resistance escape on the Falcon. Luke, exhausted, dies peacefully on Ahch-To, becoming one with the Force. Rey and Leia sense his death, and Leia tells her that the Resistance can rise again.

At Canto Bight, the stablehands recount the story of Luke Skywalker; afterward, one of them moves a broom with the Force and gazes into space.